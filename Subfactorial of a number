from functools import reduce

n=int(input("enter a number to calculate its subfactorial"))

subfacl=[]                                                #making a list to store the values before summation

def fact(x):
      if x != 0:                                          #making sure x isn't 0
            facl=[a for a in range(1,x+1)]
            
            fac=reduce(lambda x,y: x*y, facl)
      
            return fac
      else:                                               # if x is 0 then 0! factorial is 1.
            return 1

for k in range(0, n+1):                                   #using the code equivalent of the formula for !n
      n1=(-1)**k
      n2=fact(k)
      n3=n1/n2
      
      subfacl.append(n3)                                  #storing the value in subfacl ( before summation )

subfac=reduce(lambda x,y: x+y, subfacl)                   #Summation of all the values

print(int(fact(n)*subfac))                                #Calculating subfactorial and integerizing it so it doesnt have a ".0" suffix

